import{useWindowEvent as u}from"./use-window-event.js";import{computed as c}from"vue";import{FocusableMode as E,isFocusableElement as d}from"../utils/focus-management.js";import{dom as C}from"../utils/dom.js";function T(l,f,a=c(()=>!0)){function i(t,r){if(!a.value||t.defaultPrevented)return;let n=r(t);if(n===null||!n.ownerDocument.documentElement.contains(n))return;let m=function o(e){return typeof e=="function"?o(e()):Array.isArray(e)||e instanceof Set?e:[e]}(l);for(let o of m){if(o===null)continue;let e=o instanceof HTMLElement?o:C(o);if(e!=null&&e.contains(n))return}return!d(n,E.Loose)&&n.tabIndex!==-1&&t.preventDefault(),f(t,n)}u("click",t=>i(t,r=>r.target),!0),u("blur",t=>i(t,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}export{T as useOutsideClick};
