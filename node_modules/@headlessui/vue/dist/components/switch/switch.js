import{Fragment as x,computed as C,defineComponent as c,h as d,inject as E,provide as L,ref as f}from"vue";import{render as m,compact as P}from"../../utils/render.js";import{useId as j}from"../../hooks/use-id.js";import{Keys as y}from"../../keyboard.js";import{Label as G,useLabels as H}from"../label/label.js";import{Description as V,useDescriptions as I}from"../description/description.js";import{useResolveButtonType as T}from"../../hooks/use-resolve-button-type.js";import{Hidden as B,Features as F}from"../../internal/hidden.js";import{attemptSubmit as M}from"../../utils/form.js";let h=Symbol("GroupContext"),X=c({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(l,{slots:a,attrs:n}){let r=f(null),u=H({name:"SwitchLabel",props:{onClick(){!r.value||(r.value.click(),r.value.focus({preventScroll:!0}))}}}),t=I({name:"SwitchDescription"});return L(h,{switchRef:r,labelledby:u,describedby:t}),()=>m({theirProps:l,ourProps:{},slot:{},slots:a,attrs:n,name:"SwitchGroup"})}}),Y=c({name:"Switch",emits:{"update:modelValue":l=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:!1},name:{type:String,optional:!0},value:{type:String,optional:!0}},inheritAttrs:!1,setup(l,{emit:a,attrs:n,slots:r,expose:u}){let t=E(h,null),p=`headlessui-switch-${j()}`;function s(){a("update:modelValue",!l.modelValue)}let b=f(null),i=t===null?b:t.switchRef,S=T(C(()=>({as:l.as,type:n.type})),i);u({el:i,$el:i});function w(e){e.preventDefault(),s()}function v(e){e.key===y.Space?(e.preventDefault(),s()):e.key===y.Enter&&M(e.currentTarget)}function R(e){e.preventDefault()}return()=>{let{name:e,value:g,modelValue:o,...k}=l,D={checked:o},K={id:p,ref:i,role:"switch",type:S.value,tabIndex:0,"aria-checked":o,"aria-labelledby":t==null?void 0:t.labelledby.value,"aria-describedby":t==null?void 0:t.describedby.value,onClick:w,onKeyup:v,onKeypress:R};return d(x,[e!=null&&o!=null?d(B,P({features:F.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:o,name:e,value:g})):null,m({ourProps:K,theirProps:{...n,...k},slot:D,attrs:n,slots:r,name:"Switch"})])}}}),Z=G,ee=V;export{Y as Switch,ee as SwitchDescription,X as SwitchGroup,Z as SwitchLabel};
